# 1. 准备环境：安装必要的依赖工具
sudo apt update
sudo apt install -y build-essential clang git cmake make libmariadb-dev libssl-dev libbz2-dev libreadline-dev libncurses-dev libboost-all-dev

# 2. 克隆AzerothCore仓库：获取AzerothCore源文件
git clone https://github.com/azerothcore/azerothcore-wotlk.git --branch master --single-branch $HOME/azerothcore

# 3. 创建构建目录：为编译过程创建专用文件夹
cd $HOME/azerothcore
mkdir build && cd build

# 4. 配置和编译项目：使用CMake生成编译配置并进行编译
cmake ../ -DCMAKE_INSTALL_PREFIX=/home/$(whoami)/azerothcore -DTOOLS_BUILD=1 -DSCRIPTS=static -DWITH_WARNINGS=1
make -j $(nproc)

# 5. 安装和配置MySQL数据库：创建数据库用户和数据库
# 6. 配置服务器：编辑authserver.conf和worldserver.conf
# 7. 启动服务器：启动authserver和worldserver
./authserver
./worldserver
